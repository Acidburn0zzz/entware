--- a/upnphttp.c
+++ b/upnphttp.c
@@ -1314,7 +1314,7 @@
 	char *buf = NULL;
 	int try_sendfile = 1;
 
-	while( offset < end_offset )
+	while( offset <= end_offset )
 	{
 		if( try_sendfile )
 		{
