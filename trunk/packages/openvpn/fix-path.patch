diff -urx .svn ../../../trunk_clean/feeds/packages/net/openvpn/Makefile ../../../trunk/feeds/packages/net/openvpn/Makefile
--- ../../../trunk_clean/feeds/packages/net/openvpn/Makefile	2012-06-01 10:50:34.464282210 +0400
+++ ../../../trunk/feeds/packages/net/openvpn/Makefile	2012-06-01 10:51:34.775523995 +0400
@@ -24,7 +24,7 @@
   SECTION:=net
   CATEGORY:=Network
   SUBMENU:=VPN
-  DEPENDS:=+kmod-tun +libopenssl +!OPENVPN_DISABLE_LZO:liblzo
+  DEPENDS:= +libopenssl +!OPENVPN_DISABLE_LZO:liblzo
   TITLE:=Open source VPN solution using SSL
   URL:=http://openvpn.net
   MENU:=1
@@ -46,9 +46,9 @@
 endef
 
 define Package/openvpn-easy-rsa/conffiles
-/etc/easy-rsa/keys/serial
-/etc/easy-rsa/keys/index.txt
-/etc/easy-rsa/vars
+/opt/etc/easy-rsa/keys/serial
+/opt/etc/easy-rsa/keys/index.txt
+/opt/etc/easy-rsa/vars
 endef
 
 CONFIGURE_ARGS+= \
@@ -139,30 +139,26 @@
 endif
 
 define Package/openvpn/conffiles
-/etc/config/openvpn
+#/opt/etc/config/openvpn
 endef
 
 define Package/openvpn/install
-	$(INSTALL_DIR) $(1)/usr/sbin
-	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/usr/sbin/openvpn $(1)/usr/sbin/
-	$(INSTALL_DIR) $(1)/etc/init.d/
-	$(INSTALL_BIN) files/$(PKG_NAME).init $(1)/etc/init.d/$(PKG_NAME)
-	$(INSTALL_DIR) $(1)/etc/config
-	$(INSTALL_CONF) files/$(PKG_NAME).config $(1)/etc/config/$(PKG_NAME)
-	$(INSTALL_DIR) $(1)/etc/openvpn
-	$(INSTALL_DIR) $(1)/lib/upgrade/keep.d
-	$(INSTALL_DATA) files/openvpn.upgrade $(1)/lib/upgrade/keep.d/openvpn
+	$(INSTALL_DIR) $(1)/opt/bin
+	$(INSTALL_BIN) $(PKG_INSTALL_DIR)/opt/sbin/openvpn $(1)/opt/bin/
+	$(INSTALL_DIR) $(1)/opt/etc/openvpn
+	$(INSTALL_DIR) $(1)/opt/etc/init.d
+	$(INSTALL_BIN) ./files/S20openvpn $(1)/opt/etc/init.d
 endef
 
 define Package/openvpn-easy-rsa/install
-	$(INSTALL_DIR) $(1)/usr/sbin
-	$(CP) $(PKG_BUILD_DIR)/easy-rsa/2.0/{build-*,clean-all,inherit-inter,list-crl,pkitool,revoke-full,sign-req,whichopensslcnf} $(1)/usr/sbin/
-	$(INSTALL_DIR) $(1)/etc/easy-rsa
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/easy-rsa/2.0/openssl-1.0.0.cnf $(1)/etc/easy-rsa/openssl-1.0.0.cnf
-	$(INSTALL_DATA) $(PKG_BUILD_DIR)/easy-rsa/2.0/vars $(1)/etc/easy-rsa/vars
-	$(INSTALL_DIR) $(1)/etc/easy-rsa/keys
-	$(INSTALL_DATA) files/easy-rsa.index $(1)/etc/easy-rsa/keys/index.txt
-	$(INSTALL_DATA) files/easy-rsa.serial $(1)/etc/easy-rsa/keys/serial
+	$(INSTALL_DIR) $(1)/opt/bin
+	$(CP) $(PKG_BUILD_DIR)/easy-rsa/2.0/{build-*,clean-all,inherit-inter,list-crl,pkitool,revoke-full,sign-req,whichopensslcnf} $(1)/opt/bin/
+	$(INSTALL_DIR) $(1)/opt/etc/easy-rsa
+	$(INSTALL_DATA) $(PKG_BUILD_DIR)/easy-rsa/2.0/openssl-1.0.0.cnf $(1)/opt/etc/easy-rsa/openssl-1.0.0.cnf
+	$(INSTALL_DATA) $(PKG_BUILD_DIR)/easy-rsa/2.0/vars $(1)/opt/etc/easy-rsa/vars
+	$(INSTALL_DIR) $(1)/opt/etc/easy-rsa/keys
+	$(INSTALL_DATA) files/easy-rsa.index $(1)/opt/etc/easy-rsa/keys/index.txt
+	$(INSTALL_DATA) files/easy-rsa.serial $(1)/opt/etc/easy-rsa/keys/serial
 endef
 
 $(eval $(call BuildPackage,openvpn))
diff -urx .svn ../../../trunk_clean/feeds/packages/net/openvpn/patches/001-easy_rsa.patch ../../../trunk/feeds/packages/net/openvpn/patches/001-easy_rsa.patch
--- ../../../trunk_clean/feeds/packages/net/openvpn/patches/001-easy_rsa.patch	2012-06-01 10:50:34.464282210 +0400
+++ ../../../trunk/feeds/packages/net/openvpn/patches/001-easy_rsa.patch	2012-06-01 10:51:34.775523995 +0400
@@ -5,13 +5,13 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --initca $*
-+"/usr/sbin/pkitool" --interact --initca $*
++"/opt/bin/pkitool" --interact --initca $*
 --- a/easy-rsa/2.0/build-dh
 +++ b/easy-rsa/2.0/build-dh
 @@ -1,5 +1,7 @@
  #!/bin/sh
  
-+. /etc/easy-rsa/vars
++. /opt/etc/easy-rsa/vars
 +
  # Build Diffie-Hellman parameters for the server side
  # of an SSL/TLS connection.
@@ -23,7 +23,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --inter $*
-+"/usr/sbin/pkitool" --interact --inter $*
++"/opt/bin/pkitool" --interact --inter $*
 --- a/easy-rsa/2.0/build-key
 +++ b/easy-rsa/2.0/build-key
 @@ -4,4 +4,4 @@
@@ -31,7 +31,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact $*
-+"/usr/sbin/pkitool" --interact $*
++"/opt/bin/pkitool" --interact $*
 --- a/easy-rsa/2.0/build-key-pass
 +++ b/easy-rsa/2.0/build-key-pass
 @@ -4,4 +4,4 @@
@@ -39,7 +39,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --pass $*
-+"/usr/sbin/pkitool" --interact --pass $*
++"/opt/bin/pkitool" --interact --pass $*
 --- a/easy-rsa/2.0/build-key-pkcs12
 +++ b/easy-rsa/2.0/build-key-pkcs12
 @@ -5,4 +5,4 @@
@@ -47,7 +47,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --pkcs12 $*
-+"/usr/sbin/pkitool" --interact --pkcs12 $*
++"/opt/bin/pkitool" --interact --pkcs12 $*
 --- a/easy-rsa/2.0/build-key-server
 +++ b/easy-rsa/2.0/build-key-server
 @@ -7,4 +7,4 @@
@@ -55,7 +55,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --server $*
-+"/usr/sbin/pkitool" --interact --server $*
++"/opt/bin/pkitool" --interact --server $*
 --- a/easy-rsa/2.0/build-req
 +++ b/easy-rsa/2.0/build-req
 @@ -4,4 +4,4 @@
@@ -63,7 +63,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --csr $*
-+"/usr/sbin/pkitool" --interact --csr $*
++"/opt/bin/pkitool" --interact --csr $*
 --- a/easy-rsa/2.0/build-req-pass
 +++ b/easy-rsa/2.0/build-req-pass
 @@ -4,4 +4,4 @@
@@ -71,13 +71,13 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --csr --pass $*
-+"/usr/sbin/pkitool" --interact --csr --pass $*
++"/opt/bin/pkitool" --interact --csr --pass $*
 --- a/easy-rsa/2.0/clean-all
 +++ b/easy-rsa/2.0/clean-all
 @@ -1,5 +1,7 @@
  #!/bin/sh
  
-+. /etc/easy-rsa/vars
++. /opt/etc/easy-rsa/vars
 +
  # Initialize the $KEY_DIR directory.
  # Note that this script does a
@@ -87,7 +87,7 @@
 @@ -1,5 +1,7 @@
  #!/bin/sh
  
-+. /etc/easy-rsa/vars
++. /opt/etc/easy-rsa/vars
 +
  # Build a new PKI which is rooted on an intermediate certificate generated
  # by ./build-inter or ./pkitool --inter from a parent PKI.  The new PKI should
@@ -97,7 +97,7 @@
 @@ -1,5 +1,7 @@
  #!/bin/sh
  
-+. /etc/easy-rsa/vars
++. /opt/etc/easy-rsa/vars
 +
  # list revoked certificates
  
@@ -107,7 +107,7 @@
 @@ -1,5 +1,7 @@
  #!/bin/sh
  
-+. /etc/easy-rsa/vars
++. /opt/etc/easy-rsa/vars
 +
  #  OpenVPN -- An application to securely tunnel IP networks
  #             over a single TCP/UDP port, with support for SSL/TLS-based
@@ -117,7 +117,7 @@
 @@ -1,5 +1,7 @@
  #!/bin/sh
  
-+. /etc/easy-rsa/vars
++. /opt/etc/easy-rsa/vars
 +
  # revoke a certificate, regenerate CRL,
  # and verify revocation
@@ -129,7 +129,7 @@
  
  export EASY_RSA="${EASY_RSA:-.}"
 -"$EASY_RSA/pkitool" --interact --sign $*
-+"/usr/sbin/pkitool" --interact --sign $*
++"/opt/bin/pkitool" --interact --sign $*
 --- a/easy-rsa/2.0/vars
 +++ b/easy-rsa/2.0/vars
 @@ -12,7 +12,7 @@
@@ -137,7 +137,7 @@
  # the top level of the easy-rsa
  # tree.
 -export EASY_RSA="`pwd`"
-+export EASY_RSA="/etc/easy-rsa"
++export EASY_RSA="/opt/etc/easy-rsa"
  
  #
  # This variable should point to
@@ -146,7 +146,7 @@
  # the openssl.cnf file included
  # with easy-rsa.
 -export KEY_CONFIG=`$EASY_RSA/whichopensslcnf $EASY_RSA`
-+export KEY_CONFIG=`/usr/sbin/whichopensslcnf $EASY_RSA`
++export KEY_CONFIG=`/opt/bin/whichopensslcnf $EASY_RSA`
  
  # Edit this variable to point to
  # your soon-to-be-created key
