--- ../../../backup/trunk_clean/feeds/packages/libs/boost/Makefile	2012-01-13 12:15:02.000000000 +0400
+++ ../../../trunk/feeds/packages/libs/boost/Makefile	2012-01-16 14:57:25.218672619 +0400
@@ -10,14 +10,14 @@
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=boost
-PKG_VERSION:=1_46_0
+PKG_VERSION:=1_48_0
 PKG_RELEASE:=1
 
 PKG_SOURCE:=$(PKG_NAME)_$(PKG_VERSION).tar.gz
 PKG_SOURCE_URL:=@SF/boost
 PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)_$(PKG_VERSION)
 HOST_BUILD_DIR:=$(BUILD_DIR_HOST)/$(PKG_NAME)_$(PKG_VERSION)
-PKG_MD5SUM:=820393d5746553c192db7b81ba0e53fe
+PKG_MD5SUM:=313a11e97eb56eb7efd18325354631be
 
 PKG_BUILD_DEPENDS:=boost/host
 PKG_BUILD_PARALLEL:=1
@@ -141,17 +141,18 @@
 
 define Host/Compile
 	# bjam does not provide a configure-script nor a Makefile
-	( cd $(HOST_BUILD_DIR)/tools/build/v2/engine/src ; ./build.sh gcc )
+	( cd $(HOST_BUILD_DIR)/tools/build/v2/engine ; ./build.sh gcc )
 endef
 
 CONFIGURE_PREFIX:=$(PKG_INSTALL_DIR)
-TARGET_LDFLAGS += -pthreads -lrt
+TARGET_LDFLAGS += -lpthread -lrt
+TARGET_CFLAGS= -pipe -mips32 -mtune=mips32
 
 define Build/Compile
 	( cd $(PKG_BUILD_DIR) ; \
-		echo "using gcc : : $(GNU_TARGET_NAME)-gcc : <cflags>$(TARGET_CFLAGS) <cxxflags>$(TARGET_CXXFLAGS) <linkflags>$(TARGET_LDFLAGS) ;" > tools/build/v2/site-config.jam ; \
+		echo "using gcc : : mipsel-uclibc-gcc : <compileflags>\"$(TARGET_CFLAGS)\" <cxxflags>\"$(TARGET_CXXFLAGS)\" <linkflags>\"$(TARGET_LDFLAGS)\" ;" > tools/build/v2/site-config.jam ; \
 		$(if $(CONFIG_PACKAGE_boost-python), \
-			echo "using python : : $(STAGING_DIR_ROOT)/usr/bin/python :	$(STAGING_DIR)/usr/include/python2.6/ ;" >> \
+			echo "using python : : $(STAGING_DIR_ROOT)/opt/bin/python :	$(STAGING_DIR)/opt/include/python2.6/  ;" >> \
 				tools/build/v2/site-config.jam; \
 		) \
 		bjam \
@@ -176,31 +177,31 @@
 			$(if $(CONFIG_PACKAGE_boost-thread),--with-thread) \
 			$(if $(CONFIG_PACKAGE_boost-wave),--with-wave) \
 			\
-			$(if $(CONFIG_PACKAGE_boost-iostreams),-sNO_BZIP2=1 -sZLIB_INCLUDE=$(STAGING_DIR)/usr/include \
-				-sZLIB_LIBPATH=$(STAGING_DIR)/usr/lib) \
+			$(if $(CONFIG_PACKAGE_boost-iostreams),-sNO_BZIP2=1 -sZLIB_INCLUDE=$(STAGING_DIR)/opt/include \
+				-sZLIB_LIBPATH=$(STAGING_DIR)/opt/lib) \
 			install \
 	)
 endef
 
 define Build/InstallDev
-	$(INSTALL_DIR) $(1)/usr/include/boost/
-	$(CP) $(PKG_INSTALL_DIR)/include/boost/* $(1)/usr/include/boost/ # copies _all_ header files - independent of <--with-library>-argument above
+	$(INSTALL_DIR) $(1)/opt/include/boost/
+	$(CP) $(PKG_INSTALL_DIR)/include/boost/* $(1)/opt/include/boost/ # copies _all_ header files - independent of <--with-library>-argument above
 
 	if [ -d $(PKG_INSTALL_DIR)/lib ]; then \
-		$(INSTALL_DIR) $(1)/usr/lib; \
-		$(CP) $(PKG_INSTALL_DIR)/lib/*.a $(1)/usr/lib/; \
-		$(CP) $(PKG_INSTALL_DIR)/lib/*.so* $(1)/usr/lib/; \
+		$(INSTALL_DIR) $(1)/opt/lib; \
+		$(CP) $(PKG_INSTALL_DIR)/lib/*.a $(1)/opt/lib/; \
+		$(CP) $(PKG_INSTALL_DIR)/lib/*.so* $(1)/opt/lib/; \
 	fi
 endef
 
 define Host/Install
 	$(INSTALL_DIR) $(STAGING_DIR_HOST)/bin
-	$(CP) $(HOST_BUILD_DIR)/tools/build/v2/engine/src/bin.*/bjam $(STAGING_DIR_HOST)/bin/
+	$(CP) $(HOST_BUILD_DIR)/tools/build/v2/engine/bin.*/bjam $(STAGING_DIR_HOST)/bin/
 endef
 
 define Package/boost/Default/install
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/lib/libboost_$(2)*.so* $(1)/usr/lib/
+	$(INSTALL_DIR) $(1)/opt/lib
+	$(CP) $(PKG_INSTALL_DIR)/lib/libboost_$(2)*.so* $(1)/opt/lib/
 endef
 
 define Package/boost-date_time/install
@@ -252,9 +253,9 @@
 endef
 
 define Package/boost-test/install
-	$(INSTALL_DIR) $(1)/usr/lib
-	$(CP) $(PKG_INSTALL_DIR)/lib/libboost_unit_test_framework*.so* $(1)/usr/lib/
-	$(CP) $(PKG_INSTALL_DIR)/lib/libboost_prg_exec_monitor*.so* $(1)/usr/lib/
+	$(INSTALL_DIR) $(1)/opt/lib
+	$(CP) $(PKG_INSTALL_DIR)/lib/libboost_unit_test_framework*.so* $(1)/opt/lib/
+	$(CP) $(PKG_INSTALL_DIR)/lib/libboost_prg_exec_monitor*.so* $(1)/opt/lib/
 endef
 
 define Package/boost-thread/install
